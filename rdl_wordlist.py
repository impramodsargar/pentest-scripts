import os

rdl_file_path = input("Enter the path to the RDL file: ")
output_directory = input("Enter the path to the output directory: ")

if not os.path.exists(output_directory):
    os.makedirs(output_directory)

output_wordlist_file = input("Enter the name for the output wordlist file (e.g., output_wordlist.txt): ")

output_wordlist_path = os.path.join(output_directory, output_wordlist_file)

wordlist = []

try:
    with open(rdl_file_path, 'r') as rdl_file:
        current_directory = ""  
        for line in rdl_file:
            if line.startswith("./"):
                
                current_directory = line.strip().rstrip(':').lstrip('./')
            elif current_directory:  
                parts = line.split()
                if len(parts) > 0:
                    filename = parts[-1]
                    wordlist.append("/" + current_directory + "/" + filename)
except FileNotFoundError:
    print(f"RDL file not found at {rdl_file_path}. Please provide the correct file path.")
    exit(1)

try:
    with open(output_wordlist_path, 'w') as output_file:
        for item in wordlist:
            output_file.write("%s\n" % item)
    print(f"Wordlist with paths and filenames has been saved to {output_wordlist_path}.")
except Exception as e:
    print(f"An error occurred while writing the wordlist: {str(e)}")

print("\nWordlist with paths and filenames:")
for item in wordlist:
    print(item)